.coded-mtext {
  font-weight: bold;
}

// Animations pour les items de navigation collapse avec couleurs homogènes
.coded-hasmenu {
  position: relative;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  overflow: hidden;

  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, #a85d3b 0%, #3a231a 100%);
    transition: left 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    z-index: -1;
  }

  &:hover {
    transform: translateX(5px);

    &::before {
      left: 0;
    }

    .nav-link {
      color: #a85d3b !important;
    }

    .coded-mtext {
      color: #a85d3b !important;
      font-weight: 700;
    }
  }

  &:active {
    transform: translateX(2px) scale(0.98);

    &::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 20px;
      height: 20px;
      background: rgba(168, 93, 59, 0.3);
      border-radius: 50%;
      transform: translate(-50%, -50%);
      animation: rippleCollapse 0.6s ease-out;
    }
  }

  &.active, &.coded-trigger {
    &::before {
      left: 0;
    }

    .nav-link {
      color: #fef7ed !important;
      background: linear-gradient(90deg, #a85d3b 0%, #3a231a 100%);
    }

    .coded-mtext {
      color: #fef7ed !important;
      font-weight: 700;
    }
  }
}

// Animation ripple pour l'effet de clic sur les collapse
@keyframes rippleCollapse {
  0% {
    width: 0;
    height: 0;
    opacity: 1;
  }
  100% {
    width: 100px;
    height: 100px;
    opacity: 0;
  }
}

// Animation pour le texte lors du clic
.nav-link {
  transition: all 0.2s ease;

  &:active {
    .coded-mtext {
      transform: scale(0.95);
      transition: transform 0.1s ease;
    }
  }
}

// Effet de pulsation pour les items actifs
.coded-hasmenu.active, .coded-hasmenu.coded-trigger {
  animation: pulseActiveCollapse 2s infinite;
}

@keyframes pulseActiveCollapse {
  0%, 100% {
    box-shadow: 0 0 0 0 rgba(168, 93, 59, 0.4);
  }
  50% {
    box-shadow: 0 0 0 8px rgba(168, 93, 59, 0);
  }
}

// Animation pour l'ouverture/fermeture du sous-menu
.coded-submenu {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);

  &.coded-trigger {
    animation: slideDown 0.3s ease-out;
  }
}

@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

// Amélioration pour l'effet de clic avec couleur orange
.coded-hasmenu {
  &:active {
    .nav-link {
      background: linear-gradient(135deg, #a85d3b 0%, #3a231a 100%) !important;
      color: #fef7ed !important;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(168, 93, 59, 0.4);

      .coded-mtext {
        color: #fef7ed !important;
        font-weight: 700;
        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
      }
    }

    &::before {
      background: linear-gradient(135deg, #a85d3b 0%, #3a231a 100%);
    }
  }

  // Effet de transition pour le retour à l'état normal
  .nav-link {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);

    &:active {
      animation: clickOrangeCollapse 0.3s ease-out;
    }
  }
}

// Animation spécifique pour l'effet orange au clic sur les collapse
@keyframes clickOrangeCollapse {
  0% {
    background: linear-gradient(135deg, #a85d3b 0%, #3a231a 100%);
    transform: scale(1);
  }
  50% {
    background: linear-gradient(135deg, #c17a4a 0%, #4a2d1f 100%);
    transform: scale(0.95);
  }
  100% {
    background: linear-gradient(135deg, #a85d3b 0%, #3a231a 100%);
    transform: scale(1);
  }
}

// TITRE COLLAPSIBLE ACTIF
.coded-hasmenu.active > .nav-link,
.coded-hasmenu.coded-trigger > .nav-link {
  background: linear-gradient(135deg, #a85d3b 0%, #3a231a 100%) !important;
  color: #fef7ed !important;
  border-radius: 0 12px 12px 0;
  font-weight: 700;
  box-shadow: 0 4px 12px rgba(168, 93, 59, 0.15);
}

// TITRES COLLAPSIBLES NON ACTIFS
.coded-hasmenu > .nav-link {
  background: #fff8f0;
  color: #a85d3b;
  border-radius: 0 12px 12px 0;
  font-weight: 600;
  transition: all 0.2s;
}

// Effet hover pour les non-actifs
.coded-hasmenu:not(.active):not(.coded-trigger) > .nav-link:hover {
  background: #ffe8d6;
  color: #a85d3b;
}
