<!-- Modal d'édition réutilisable -->
<div *ngIf="isOpen" class="modal-backdrop-custom">
  <div class="modal-content-custom animate__animated animate__zoomIn">
    <div class="modal-header-custom d-flex justify-content-between align-items-center mb-3">
      <h4 class="mb-0">Détail du fichier</h4>
      <button class="btn btn-sm btn-outline-secondary" (click)="onClose()">&times;</button>
    </div>
    <div *ngIf="fichier">
      <div class="mb-2"><b>Code valeur :</b> {{ fichier.codeValeur }}</div>
      <div class="mb-2"><b>Code EN :</b> {{ fichier.codEn }}</div>
      <form (ngSubmit)="onSave()">
        <div class="editable-section mb-3 p-3 rounded-3" style="background: #f5f8fd; border: 1.5px solid #1976d2; display: flex; align-items: center; gap: 0.7rem;">
          <span class="edit-icon" style="color: #1976d2; font-size: 1.3rem;"><i class="ti ti-edit"></i></span>
          <div class="flex-grow-1 d-flex align-items-center gap-2">
            <label class="form-label fw-bold mb-1 me-2" style="color: #1a237e; font-size: 1.13rem;">Nom du fichier</label>
            <input type="text" class="form-control" [(ngModel)]="nomFichierBase" name="nomFichierEdit" required style="font-weight:600; color:#1a237e; background: #fff; border: 1.5px solid #1976d2; max-width: 180px;">
            <span class="badge bg-primary" style="font-size:1.01rem;">.{{ extensionFichier }}</span>
          </div>
        </div>
        <div class="d-flex justify-content-end gap-2 mt-3">
          <button type="button" class="btn btn-outline-secondary" (click)="onClose()">Annuler</button>
          <button type="submit" class="btn btn-gradient-save">Enregistrer</button>
        </div>
      </form>
      <hr class="my-3" style="border-top: 1.5px solid #e3e7f1;" />
      <div class="mb-2"><b>Date création :</b> {{ fichier.createdAt }}</div>
      <div class="mb-2"><b>Date maj :</b> {{ fichier.updatedAt }}</div>
      <div class="mb-2"><b>Nature :</b> {{ fichier.natureFichier }}</div>
      <div class="mb-2"><b>Type :</b> {{ fichier.typeFichier }}</div>
      <div class="mb-2"><b>Sens :</b> {{ fichier.sens }}</div>
      <div class="mb-2"><b>Extension :</b> {{ extensionFichier }}</div>
    </div>
  </div>
</div> 