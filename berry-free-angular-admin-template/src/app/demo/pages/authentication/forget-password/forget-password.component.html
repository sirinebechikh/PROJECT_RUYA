<div class="auth-main">
  <div class="auth-wrapper v3">
    <div class="auth-form">
      <div class="card my-5">
        <div class="card-body">
          <div class="d-flex flex-column align-items-center mb-4">
            <img src="assets/images/logoAttijari.png" alt="Logo Attijari" style="height: 100px; width: auto; border-radius: 12px; box-shadow: 0 2px 12px rgba(34,34,34,0.10); background: #fff;" />
            <h2 style="font-family: 'Segoe UI', Arial, sans-serif; font-weight: 700; color: #a85d3b; margin-top: 12px; letter-spacing: 2px; text-shadow: 0 2px 8px #eee;">ROU'ya</h2>
            <p style="font-family: 'Segoe UI', Arial, sans-serif; color: #333; font-size: 1.05rem; margin-top: 8px; text-align: center; max-width: 320px;">
              Bienvenue sur <b>ROU'ya</b><br/>
              La solution intelligente pour le traitement automatisé des fichiers financiers
            </p>
          </div>
          <h1 style="margin-bottom: 18px; text-align: center;">Réinitialiser le mot de passe</h1>
          <form [formGroup]="form" (ngSubmit)="onSubmit()" style="margin-bottom: 18px;">
            <div class="form-group" style="text-align: left;">
              <label for="email" style="font-weight: 600;">Adresse e-mail</label>
              <input 
                type="email" 
                id="email" 
                formControlName="email" 
                class="form-control" 
                placeholder="Entrez votre e-mail" 
                required 
                autocomplete="new-password"
                autocorrect="off"
                autocapitalize="off"
                spellcheck="false"
                value=""
                readonly
                (focus)="onEmailFocus($event)"
              />
              <div *ngIf="submitted && f['email'].errors" class="text-danger mt-1">
                <small *ngIf="f['email'].errors['required']">Email requis</small>
                <small *ngIf="f['email'].errors['email']">Format d'email invalide</small>
              </div>
            </div>
            <button type="submit" class="btn btn-primary btn-block" style="width: 100%; font-size: 1.1rem; margin-top: 18px;" [disabled]="isLoading">
              <span *ngIf="!isLoading">
                <i class="ti ti-send" style="margin-right: 8px;"></i>
                Envoyer le lien de réinitialisation
              </span>
              <span *ngIf="isLoading" class="loading-content">
                <i class="ti ti-loader-2 ti-spin" style="margin-right: 8px; font-size: 1.2rem;"></i>
                Envoi en cours...
              </span>
            </button>
          </form>
          
          <div *ngIf="successMessage" class="text-success text-center">{{ successMessage }}</div>
          <div *ngIf="errorMessage" class="text-danger text-center">{{ errorMessage }}</div>
          
          <div class="text-secondary" style="margin-top: 8px; text-align: center;">
            Vous recevrez un lien de réinitialisation par e-mail si l'adresse est reconnue.
          </div>
          
        </div>
      </div>
    </div>
  </div>
</div> 