<div class="auth-main">
  <div class="auth-wrapper v3">
    <div class="auth-form">
      <div class="card my-5">
        <div class="card-body">
          <div class="d-flex flex-column align-items-center mb-4">
            <img src="assets/images/logoAttijari.png" alt="Logo Attijari" style="height: 100px; width: auto; border-radius: 12px; box-shadow: 0 2px 12px rgba(34,34,34,0.10); background: #fff;" />
            <h2 style="font-family: 'Segoe UI', Arial, sans-serif; font-weight: 700; color: #a85d3b; margin-top: 12px; letter-spacing: 2px; text-shadow: 0 2px 8px #eee;">ROU'ya</h2>
            <p style="font-family: 'Segoe UI', Arial, sans-serif; color: #333; font-size: 1.05rem; margin-top: 8px; text-align: center; max-width: 320px;">
              Bienvenue sur <b>ROU'ya</b><br/>
              La solution intelligente pour le traitement automatisé des fichiers financiers
            </p>
          </div>
          <h1 style="margin-bottom: 18px; text-align: center;">Réinitialiser le mot de passe</h1>
          <form [formGroup]="resetForm" (ngSubmit)="onSubmit()" style="margin-bottom: 18px;">
            <div class="form-group" style="text-align: left;">
              <label for="code" style="font-weight: 600;">Code à 6 chiffres</label>
              <input type="text" id="code" formControlName="code" maxlength="6" class="form-control" 
                     placeholder="Entrez le code reçu par email" required />
              <div *ngIf="submitted && f['code'].errors" class="text-danger mt-1">
                <small *ngIf="f['code'].errors['required']">Le code est requis</small>
                <small *ngIf="f['code'].errors['pattern']">Le code doit contenir 6 chiffres</small>
              </div>
            </div>
            <div class="form-group" style="text-align: left;">
              <label for="password" style="font-weight: 600;">Nouveau mot de passe</label>
              <input type="password" id="password" formControlName="password" class="form-control" 
                     placeholder="Entrez votre nouveau mot de passe" required />
              <div *ngIf="submitted && f['password'].errors" class="text-danger mt-1">
                <small *ngIf="f['password'].errors['required']">Le mot de passe est requis</small>
                <small *ngIf="f['password'].errors['minlength']">Au moins 6 caractères</small>
              </div>
            </div>
            <button type="submit" class="btn btn-primary btn-block" style="width: 100%; font-size: 1.1rem; margin-top: 18px;">
              <i class="ti ti-lock" style="margin-right: 8px;"></i>
              Changer le mot de passe
            </button>
          </form>
          
          <div *ngIf="errorMsg" class="text-danger text-center">{{ errorMsg }}</div>
          <div *ngIf="successMsg" class="text-success text-center">{{ successMsg }}</div>
          
          <div class="text-secondary" style="margin-top: 8px; text-align: center;">
            Assurez-vous que votre nouveau mot de passe est sécurisé et différent de l'ancien.
          </div>
          
        </div>
      </div>
    </div>
  </div>
</div> 